@page "/products"
@using EfCoreWebApp.Models
@inject EfCoreWebApp.Data.AppDbContext Db
@{
    Layout = null;
    IEnumerable<Product> products = Array.Empty<Product>();
    try { products = Db.Products.ToList(); } catch { products = Array.Empty<Product>(); }
}
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Products</title>
</head>
<body>
    <h1>Products List</h1>
    @if (products.Any())
    {
        <ul>
            @foreach (var p in products)
            {
                <li>@p.Id: @p.Name - @p.Price.ToString("0.00")</li>
            }
        </ul>
    }
    else
    {
        <p>No products or database not reachable.</p>
    }
</body>
</html>
